<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen & Keyboard Pro</title>
    <style>
        :root {
            --bg: #0b0f1a;
            --card: #161b2c;
            --accent: #3b82f6;
            --success: #22c55e;
            --text: #f8fafc;
            --key-bg: #2d3748;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Inter', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            width: 95%;
            max-width: 800px;
            padding: 20px;
            text-align: center;
        }

        h1 { font-size: 22px; margin-bottom: 20px; opacity: 0.9; }

        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 30px;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: var(--accent);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
        }

        button:hover { filter: brightness(1.2); transform: translateY(-1px); }
        button.active { background: var(--success); }
        button.secondary { background: #475569; }

        /* Klavye Test Alanƒ± */
        .keyboard-container {
            background: var(--card);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 5px;
        }

        .key {
            background: var(--key-bg);
            padding: 10px;
            min-width: 35px;
            height: 35px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            transition: 0.1s;
            user-select: none;
        }

        .key.pressed {
            background: var(--success);
            color: var(--bg);
            transform: scale(0.95);
        }

        .key.tested {
            border: 1px solid var(--success);
            color: var(--success);
        }

        /* Temizlik Modu Overlay */
        #cleaner-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            z-index: 9999;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .exit-hint {
            position: absolute;
            bottom: 20px;
            color: #444;
            font-size: 14px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üõ†Ô∏è Screen & Keyboard Tool</h1>
    
    <div class="controls">
        <button onclick="toggleWakeLock()" id="wakeBtn">‚òÄÔ∏è Ekranƒ± Uyanƒ±k Tut</button>
        <button onclick="startCleaning()" class="secondary">üßπ Klavye Temizliƒüi</button>
        <button onclick="resetTest()" class="secondary">üîÑ Testi Sƒ±fƒ±rla</button>
    </div>

    <div class="keyboard-container" id="tester">
        </div>
</div>

<div id="cleaner-overlay">
    <h1 style="color: white; font-size: 40px;">TEMƒ∞ZLƒ∞K MODU AKTƒ∞F</h1>
    <p style="color: #666;">Klavye giri≈üleri engellendi.</p>
    <div id="last-key" style="font-size: 60px; color: var(--success); margin-top: 20px;"></div>
    <div class="exit-hint">√áƒ±kmak i√ßin <b>Ctrl + C</b> tu≈ülarƒ±na basƒ±n</div>
</div>

<script>
    // 1. Ekran Uyanƒ±k Tutma (Wake Lock)
    let wakeLock = null;
    async function toggleWakeLock() {
        const btn = document.getElementById('wakeBtn');
        if (wakeLock === null) {
            try {
                wakeLock = await navigator.wakeLock.request('screen');
                btn.innerText = "‚úÖ Ekran Kapanmaz";
                btn.classList.add('active');
            } catch (err) { alert("Tarayƒ±cƒ± desteklemiyor."); }
        } else {
            wakeLock.release();
            wakeLock = null;
            btn.innerText = "‚òÄÔ∏è Ekranƒ± Uyanƒ±k Tut";
            btn.classList.remove('active');
        }
    }

    // 2. Klavye Test Programƒ± Aray√ºz√º
    const rows = [
        ["Esc", "F1", "F2", "F3", "F4", "F5", "F6", "F7", "F8", "F9", "F10", "F11", "F12"],
        ["\"", "1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "*", "-", "Backspace"],
        ["Tab", "Q", "W", "E", "R", "T", "Y", "U", "I", "O", "P", "ƒû", "√ú", "Enter"],
        ["Caps", "A", "S", "D", "F", "G", "H", "J", "K", "L", "≈û", "ƒ∞", ","],
        ["Shift", "Z", "X", "C", "V", "B", "N", "M", "√ñ", "√á", ".", "Shift"],
        ["Ctrl", "Win", "Alt", "Space", "Alt", "Fn", "Ctrl"]
    ];

    const tester = document.getElementById('tester');
    rows.forEach(row => {
        const rowDiv = document.createElement('div');
        rowDiv.className = 'keyboard-row';
        row.forEach(key => {
            const keyDiv = document.createElement('div');
            keyDiv.className = 'key';
            keyDiv.innerText = key;
            keyDiv.setAttribute('data-key', key.toUpperCase());
            rowDiv.appendChild(keyDiv);
        });
        tester.appendChild(rowDiv);
    });

    // Tu≈ü basƒ±≈ülarƒ±nƒ± dinle
    window.addEventListener('keydown', (e) => {
        if (isCleaning) return;
        const keyName = e.key.toUpperCase() === " " ? "SPACE" : e.key.toUpperCase();
        const keyEl = document.querySelector(`[data-key="${keyName}"]`);
        if (keyEl) {
            keyEl.classList.add('pressed');
            keyEl.classList.add('tested');
        }
    });

    window.addEventListener('keyup', (e) => {
        const keyName = e.key.toUpperCase() === " " ? "SPACE" : e.key.toUpperCase();
        const keyEl = document.querySelector(`[data-key="${keyName}"]`);
        if (keyEl) keyEl.classList.remove('pressed');
    });

    function resetTest() {
        document.querySelectorAll('.key').forEach(k => k.classList.remove('tested', 'pressed'));
    }

    // 3. Klavye Temizleme Modu (Ctrl + C ile √ßƒ±kƒ±≈ü)
    let isCleaning = false;
    function startCleaning() {
        isCleaning = true;
        document.getElementById('cleaner-overlay').style.display = 'flex';
        window.addEventListener('keydown', handleCleaning);
    }

    function handleCleaning(e) {
        e.preventDefault();
        // Ctrl + C kontrol√º
        if (e.ctrlKey && e.key.toLowerCase() === 'c') {
            stopCleaning();
            return;
        }
        document.getElementById('last-key').innerText = e.key.toUpperCase();
    }

    function stopCleaning() {
        isCleaning = false;
        document.getElementById('cleaner-overlay').style.display = 'none';
        window.removeEventListener('keydown', handleCleaning);
        document.getElementById('last-key').innerText = "";
    }
</script>

</body>
</html>
